# Reproducible Research: Peer Assessment 1

This report provides a brief analysis of data from a personal activity monitoring device. Worn by an anonymous individual, data were collected from this device at 5 minute intervals spanning the months of October and November, 2012. The collected data include the number of steps taken during each interval.

The R scripts referenced in this document place output in the current working
directory. The scripts use the data and figures sub-directories for storing 
the source data and generated figures respectively.

## Loading and preprocessing the data

```{r setoptions, echo=FALSE}
library(knitr)
# Set the following global value to ensure code is displayed by default
opts_chunk$set(echo=TRUE)
```

####Load the data

```{r fetchdata}
if (!file.exists("./activity.zip")) {
    fileUrl <- "http://d396qusza40orc.cloudfront.net/repdata%2Fdata%2Factivity.zip"
    download.file(fileUrl, destfile = "./activity.zip", method = "curl")
}
if (!file.exists("./data/activity.csv")) {
    unzip("./activites.zip", exdir ="./data")
}

activity <- read.csv("./data/activity.csv", na.strings = "NA")

```

#### Pre-process the data
```{r pre-process}
activity$date <- as.Date(activity$date, format="%Y-%m-%d")
```

## What is mean total number of steps taken per day?
For this part of the evaluation, we can ignore the missing values in the dataset.

#### Histogram 
Histogram of the total number of steps taken each day.

```{r dailystepsdistribution}
library(plyr)
## Sum the steps by day
daily <- ddply(activity,~date,summarise,steps=sum(steps))
hist(daily$steps, col="green",
     main="Distribution of Daily Steps\n (October 1 - November 30, 2012)",
     col.lab="darkblue", col.axis="darkblue",
     xlab="Steps Per Day \n",
     ylab="Frequency (Days)",
     sub="Figure 1: Steps Taken Each Day",
     freq=TRUE)

```


#### Mean and Median

Next. we calculate and report the mean and median total number of steps taken per day.

```{r stepsperday}
mean.steps.per.day <- mean(daily$steps, na.rm=TRUE)
median.steps.per.day <- median(daily$steps, na.rm=TRUE)
cat("Total Steps Per Day ##",
    "\nMean: ", mean.steps.per.day, 
    "\nMedian: ", median.steps.per.day)
```

## What is the average daily activity pattern?

####Plot

Below is a time series plot of the 5-minute interval (x-axis) and the average number of steps taken, averaged across all days (y-axis)

```{r avgdailyactivity}
library(plyr)
## Sum the steps by interval
by.interval <- ddply(activity,~interval,
                     summarise,steps=sum(steps, na.rm=TRUE))
plot(by.interval$interval, by.interval$steps, 
     type="l", 
     main="Steps Per 5 Minute Interval\n(Oct. 1 - Nov. 30, 2012)",
     xlab="Time of Day\n",
     ylab="Number of Steps",
     xaxt = 'n')
axis(1, labels = c('0:00', '6:00', '12:00', '18:00', '23:55'), 
     at = c(0, 600, 1200, 1800, 2355))
```

####Greatest Interval
Determine the 5-minute interval, on average across all the days in the dataset, that contains the maximum number of steps.

```{r maxinterval}
max.int <- by.interval[by.interval$steps == max(by.interval$steps, 
                                                na.rm=TRUE), ]
cat ("The interval with the greatest number of steps (", 
     max.int$steps , ") is: ", max.int$interval, sep="")
```

## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
